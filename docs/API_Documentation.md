# 自動モザエセ v1.0 - API ドキュメント

## 📋 概要

自動モザエセ v1.0は、アニメ・イラスト画像の男女局部を自動検出してモザイク処理を適用するツールです。YOLO検出 + SAM分割の高精度処理により、自然な仕上がりを実現し、FANZA基準対応の安全なモザイク処理を提供します。

### 🆕 v1.0の主要機能
- **統合認証システム**: 月次パスワード + Discord認証の統一管理
- **カスタムモデル対応**: 任意のYOLO形式.ptファイルをカスタム検出器として追加可能
- **遅延ローダー**: exe化時のファイルサイズ削減とパフォーマンス向上
- **暗号化設定管理**: 配布版での認証情報安全管理
- **柔軟なモデル検索**: 複数場所からのモデルファイル自動検出

## 🏗️ アーキテクチャ

```
auto_mosaic/
├── __main__.py          # メインエントリーポイント
├── __init__.py          # パッケージ初期化
└── src/
    ├── __init__.py      # srcパッケージ初期化
    ├── gui.py           # GUIアプリケーション（メイン）
    ├── detector.py      # YOLO検出エンジン
    ├── segmenter.py     # SAMセグメンテーション
    ├── mosaic.py        # モザイク処理エンジン
    ├── downloader.py    # モデルダウンローダー
    ├── utils.py         # ユーティリティ関数
    ├── nudenet_detector.py  # NudeNet検出器
    │
    │ === 統合認証システム ===
    ├── auth_manager.py      # 統合認証マネージャー（新）
    ├── auth_config.py       # 認証設定管理（新）
    ├── auth.py              # 月次パスワード認証（従来）
    ├── discord_auth_adapter.py  # Discord認証アダプター（新）
    │
    │ === 設定・環境管理 ===
    ├── env_config.py        # 環境変数設定管理（新）
    ├── encrypted_config.py  # 暗号化設定管理（新）
    └── lazy_loader.py       # 遅延ローダー（新）
```

このドキュメントは自動モザエセ v1.0の開発・保守・拡張に必要な全ての技術的詳細を提供します。

*詳細な内容については、auto_mosaic/API_Documentation.mdをご参照ください。* 